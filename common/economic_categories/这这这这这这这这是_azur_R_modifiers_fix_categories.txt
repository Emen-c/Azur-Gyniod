#巨构修正
megastructures = {
	use_for_ai_budget = yes
	ai_use_parent_for_resources_upkeep = {
		energy
		consumer_goods
	}
	parent = country
	generate_mult_modifiers = {
		cost
        produces
        upkeep
	}
    generate_add_modifiers = {
		cost
        produces
        upkeep
	}
	modifier_category = megastructure
}

#建筑修正
planet_buildings = {
	parent = planet_structures
	modifier_category = planet

	generate_mult_modifiers = {
		cost
		upkeep
		produces
	}
	generate_add_modifiers = {
		cost
		upkeep
		produces
	}
}

#区划修正
planet_districts = {
	parent = planet_structures
	modifier_category = planet

	generate_mult_modifiers = {
		cost
		upkeep
		produces
	}
	generate_add_modifiers = {
		cost
		upkeep
		produces
	}
}

#基本产出
# Base income of country
country_base = {
	parent = country
	modifier_category = country
	generate_mult_modifiers = {
		produces
	}
	
	generate_add_modifiers = {
		produces
	}
}

#职业
planet_jobs = {
	parent = planets

	generate_mult_modifiers = {
		produces
		upkeep
	}
	generate_add_modifiers = {
		produces
		upkeep
	}
	modifier_category = pop

	triggered_produces_modifier = {
		key = planet_jobs_slave
		modifier_types = {
			add
			mult
		}
		trigger = {
			is_pop_category = slave
			has_job_category = worker
		}
	}

	triggered_produces_modifier = {
		key = planet_psionic_jobs
		modifier_types = {
			add
			mult
		}
		trigger = {
			OR = {
				has_trait = trait_psionic
				has_trait = trait_latent_psionic
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_worker_ownership_jobs
		modifier_types = {
			add
			mult
		}
		trigger = {
			exists = owner
			has_living_standard = {
				country = owner
				type = living_standard_worker_ownership
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_cyborg_jobs
		modifier_types = {
			add
			mult
		}
		trigger = {
			has_trait = trait_cybernetic
		}
	}

	triggered_produces_modifier = {
		key = planet_virtual_jobs
		modifier_types = {
			add
			mult
		}
		trigger = {
			has_virtual_species_trait = yes
		}
	}

	triggered_produces_modifier = {
		key = habitat_jobs
		modifier_types = {
			add
			mult
		}
		trigger = {
			exists = planet
			planet = { is_planet_class = pc_habitat }
		}
	}

	triggered_produces_modifier = {
		key = non_artificial_planet_jobs
		modifier_types = {
			add
			mult
		}
		trigger = {
			exists = planet
			planet = { is_artificial = no }
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_worker
		modifier_types = {
			add
			mult
		}
		trigger = {
			OR = {
				is_pop_category = worker
				AND = {
					is_pop_category = slave # Yes, slave should count towards both worker and slave
					has_job_category = worker
				}
				is_pop_category = simple_drone
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_cyborg_worker
		modifier_types = {
			add
			mult
		}
		trigger = {
			has_trait = trait_cybernetic
			OR = {
				is_pop_category = worker
				AND = {
					is_pop_category = slave # Yes, slave should count towards both worker and slave
					has_job_category = worker
				}
				is_pop_category = simple_drone
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_robot_worker
		modifier_types = {
			add
			mult
		}
		trigger = {
			OR = {
				is_pop_category = worker
				is_pop_category = simple_drone
				is_pop_category = robot_servant
			}
		}
	}

	triggered_produces_modifier = { #use this one if deliberately excluding worker drones
		key = planet_jobs_worker_only
		modifier_types = {
			add
			mult
		}
		trigger = {
			OR = {
				is_pop_category = worker
				AND = {
					is_pop_category = slave # Yes, slave should count towards both worker and slave
					has_job_category = worker
				}
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_specialist
		modifier_types = {
			add
			mult
		}
		trigger = {
			OR = {
				is_pop_category = specialist
				is_pop_category = complex_drone #planet_jobs_complex_drone is preferable for stuff visible during galaxy setup
				AND = {
					is_pop_category = slave
					has_job_category = specialist
				}
			}
		}
	}

	triggered_produces_modifier = { #use this one if deliberately excluding complex drones
		key = planet_jobs_specialist_only
		modifier_types = {
			add
			mult
		}
		trigger = {
			OR = {
				is_pop_category = specialist
				AND = {
					is_pop_category = slave
					has_job_category = specialist
				}
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_ruler
		modifier_types = {
			add
			mult
		}
		trigger = {
			is_pop_category = ruler
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_simple_drone
		modifier_types = {
			add
			mult
		}
		trigger = {
			is_pop_category = simple_drone
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_complex_drone
		modifier_types = {
			add
			mult
		}
		trigger = {
			is_pop_category = complex_drone
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_complex_and_simple_drone
		modifier_types = {
			add
			mult
		}
		trigger = {
			OR = {
				is_pop_category = complex_drone
				is_pop_category = simple_drone
			}
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_robotic
		modifier_types = {
			add
			mult
		}
		trigger = {
			is_robot_pop = yes
		}
	}

	triggered_produces_modifier = {
		key = planet_jobs_organics
		modifier_types = {
			add
			mult
		}
		trigger = {
			is_robot_pop = no
		}
	}
}

#阶级
pop_category_workers = {
	parent = planet_pops
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}
	
	generate_add_modifiers = {
		produces
		upkeep
	}
}

pop_category_specialists = {
	parent = planet_pops
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}
	
	generate_add_modifiers = {
		produces
		upkeep
	}
}

pop_category_rulers = {
	parent = planet_pops
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}
	
	generate_add_modifiers = {
		produces
		upkeep
	}
}

#具体职业
planet_enforcers = {
	parent = planet_jobs
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_priests = {
	parent = planet_administrators
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
	# Inherited Modifiers
	triggered_produces_modifier = {
		key = planet_administrators
		modifier_types = {
			add
		}
		trigger = {
			always = yes
		}
		use_parent_icon = yes
	}
}

planet_politicians = {
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_administrators = {
	icon = "job_bureaucrat"
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_technician = {
	icon = "job_technician"
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_miners = {
	icon = "job_miner"
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_farmers = {
	icon = "job_farmer"
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_metallurgists = {
	icon = "job_foundry"
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_artisans = {
	icon = "job_artisan"
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_researchers = {
	icon = "job_researcher"
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_entertainers = {
	parent = planet_jobs
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

AL_R_planet_refinery = {
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_clerks = {
	parent = planet_jobs
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_merchants = {
	parent = planet_jobs
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_chemists = {
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_translucers = {
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}

planet_refiners = {
	parent = planet_jobs_productive
	modifier_category = pop
	generate_mult_modifiers = {
		produces
		upkeep
	}

	generate_add_modifiers = {
		produces
		upkeep
	}
}