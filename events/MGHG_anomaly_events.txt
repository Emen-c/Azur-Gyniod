namespace = MGHG_anomaly

ship_event = {
	id = MGHG_anomaly.01
	title = "MGHG_anomaly.01.name"
	desc = "MGHG_anomaly.01.desc"
	picture = GFX_evt_many_sex_slaves
	show_sound = event_alien_signal
	is_triggered_only = yes

	immediate = {
	}

	option = {
		trigger = {
			owner = {
				NOR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
					AND = {
						has_ethic = ethic_gestalt_consciousness
						OR = {
							has_civic = civic_machine_servitor
							has_civic = civic_machine_assimilator
						}
					}
				}
			}
		}
		name = MGHG_anomaly.01.a

		from = {
			enable_special_project = {
				name = LAMIA_SEX_SLAVES_PROJECT
				location = this
				owner = root.owner
			}
		}
	}

	option = {
		trigger = {
			owner = {
				NAND = {
					OR = {
						has_ethic = ethic_egalitarian
						has_ethic = ethic_fanatic_egalitarian
					}
					NOR = {
						has_ethic = ethic_xenophobe
						has_ethic = ethic_fanatic_xenophobe
					}
				}
			}
		}
		name = MGHG_anomaly.01.b

		from = {
			enable_special_project = {
				name = LAMIA_SEX_SLAVES_PROJECT
				location = this
				owner = root.owner
			}
		}
	}
}

ship_event = {
	id = MGHG_anomaly.02
	title = "MGHG_anomaly.02.name"
	desc = "MGHG_anomaly.02.desc"
	picture = GFX_evt_MGHG_anomaly_02
	show_sound = event_ground_battle
	is_triggered_only = yes

	immediate = {
		create_species = {
			name = "LAMIA"
			plural = "LAMIA_plural"
			class = LAMIA
			portrait = LAMIA03
			namelist = LAMIA
			gender = female
			traits = {
				ideal_planet_class = pc_ocean
				trait = trait_lamia
				trait = trait_masochistic_constitution
				trait = trait_syncretic_proles
				trait = trait_promiscuous
				trait = trait_delicious
				trait = trait_easy_to_climax
				trait = trait_much_love_liquid
				trait = trait_slow_learners
				trait = trait_weak
				trait = trait_fleeting
			}
			homeworld = this
			effect = {
				save_event_target_as = lamia_sex_salve_species
			}
		}
	}

	option = {
		name = MGHG_anomaly.02.a
		trigger = {
			owner= {
				OR = {
					NOR = {
						has_ethic = ethic_gestalt_consciousness
						has_ethic = ethic_xenophobe
						has_ethic = ethic_fanatic_xenophobe
					}
					has_civic = civic_machine_servitor
					has_civic = civic_machine_assimilator
				}
			}
		}
		owner = {
			capital_scope = {
				create_pop = {
					species = event_target:lamia_sex_salve_species
				}
			}
		}
	}

	option = {
		name = MGHG_anomaly.02.b
		trigger = {
			owner = {
				NOR = {
					has_civic = civic_hive_devouring_swarm
					has_civic = civic_machine_terminator
					has_civic = civic_fanatic_purifiers
				}
			}
		}
		owner = {
			add_resource = {
				influence = 20
			}
		}
	}

	option = {
		name = MGHG_anomaly.02.c
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_xenophobe
				OR = {
					has_civic = civic_hive_devouring_swarm
					has_civic = civic_machine_terminator
				}
			}
		}
		owner = {
			add_resource = {
				unity = 50
				food = 50
			}
		}
	}
}

ship_event = {
	id = MGHG_anomaly.03
	title = "MGHG_anomaly.03.name"
	desc = "MGHG_anomaly.03.desc"
	picture = GFX_evt_angel_feather_1
	show_sound = event_alien_signal
	is_triggered_only = yes

	immediate = {
	}

	option = {
		trigger = {
			owner = {
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}
		}
		name = MGHG_anomaly.03.a

		from = {
			enable_special_project = {
				name = ANGEL_FEATURE_PROJECT
				location = this
				owner = root.owner
			}
		}
	}

	option = {
		name = MGHG_anomaly.03.b

		from = {
			enable_special_project = {
				name = ANGEL_FEATURE_PROJECT
				location = this
				owner = root.owner
			}
		}
	}

	option = {
		name = MGHG_anomaly.03.c

		from = {
			enable_special_project = {
				name = ANGEL_FEATURE_PROJECT
				location = this
				owner = root.owner
			}
		}
	}
}

ship_event = {
	id = MGHG_anomaly.04
	title = "MGHG_anomaly.04.name"
	desc = "MGHG_anomaly.04.desc"
	picture = GFX_evt_angel_feather_2
	show_sound = MGHG_short_9
	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = MGHG_anomaly.04.a
		hidden_effect = {
			owner = {
				country_event = {
					id = MGHG_anomaly.05
				}
			}
		}
	}

	option = {
		name = MGHG_anomaly.04.b
		hidden_effect = {
			ship_event = {
				id = MGHG_anomaly.06
			}
		}
	}
}

country_event = {
	id = MGHG_anomaly.05
	title = TRANSMISSION
	desc = "MGHG_anomaly.05.desc"
	show_sound = event_bad_omen
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = SUCCUBUS02_12
		room = shroudwalkers_room
	}

	immediate = {
	}

	option = {
		name = MGHG_anomaly.05.a
		owner = {
			add_modifier = {
				modifier = lust_curse
			}
		}
	}

	option = {
		name = MGHG_anomaly.05.b
		owner = {
			add_modifier = {
				modifier = lust_curse
			}
		}
	}

	option = {
		name = MGHG_anomaly.05.c
		trigger = {
			from.leader = {
				check_modifier_value = {
					modifier = lust_psionic_level
					value >= 8
				}
			}
		}
		hidden_effect = {
			random_list = {
				1 = {
					hidden_effect = {
						country_event = {
							id = MGHG_anomaly.07
						}
					}
				}
				25 = {
					hidden_effect = {
						country_event = {
							id = MGHG_anomaly.08
						}
					}
					modifier = {
						factor = 0.2
						from.leader = {
							check_modifier_value = {
								modifier = lust_psionic_level
								value = 9
							}
						}
					}
					modifier = {
						factor = 0
						from.leader = {
							check_modifier_value = {
								modifier = lust_psionic_level
								value >= 10
							}
						}
					}
				}
			}
		}
	}
}

ship_event = {
	id = MGHG_anomaly.06
	title = "MGHG_anomaly.06.name"
	desc = "MGHG_anomaly.06.desc"
	picture = GFX_evt_angel_feather_3
	show_sound = event_finding_loot
	is_triggered_only = yes

	immediate = {}

	option = {
		name = MGHG_anomaly.06.a
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2unitymin
				max = @tier2unitymax
			}
		}
	}

	option = {
		name = MGHG_anomaly.06.b
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier2unityreward
				min = @tier2unitymin
				max = @tier2unitymax
			}
		}
	}

}

country_event = {
	id = MGHG_anomaly.07
	title = "MGHG_anomaly.07.name"
	desc = {
		trigger = {
			fromfrom.leader = {
				check_modifier_value = {
					modifier = lust_psionic_level
					value < 9
				}
			}
		}
		text = MGHG_anomaly.07.desc.a
	}
	desc = {
		trigger = {
			fromfrom.leader = {
				check_modifier_value = {
					modifier = lust_psionic_level
					value >= 10
				}
			}
		}
		text = MGHG_anomaly.07.desc.b
	}
	picture = GFX_evt_angel_feather_4
	show_sound = MGHG_blowjob_long_2
	is_triggered_only = yes

	immediate = {}

	option = {
		name = MGHG_anomaly.07.a
		fromfrom.leader = {
			add_trait = leader_trait_training_lust_demon
		}
	}

}

country_event = {
	id = MGHG_anomaly.08
	title = "MGHG_anomaly.08.name"
	desc = "MGHG_anomaly.08.desc"
	picture = GFX_evt_angel_feather_3
	show_sound = event_bad_omen
	is_triggered_only = yes

	immediate = {}

	option = {
		name = MGHG_anomaly.08.a
		fromfrom.leader = {
			add_trait = leader_trait_sex_addict_2
		}
		add_modifier = {
			modifier = lust_curse
		}
	}

}

ship_event = {
	id = MGHG_anomaly.09
	title = "MGHG_anomaly.09.name"
	desc = "MGHG_anomaly.09.desc"
	picture = GFX_evt_games_console_2
	show_sound = MGHG_blowjob_short_1
	is_triggered_only = yes

	immediate = {}

	option = {
		name = MGHG_anomaly.09.a
		trigger = {
			owner = {
				NOT = {
					any_owned_pop = {
						OR = {
							is_species_class = GYNOID
							is_species_class = GYNOID_ROBOT
							is_species_class = Azur_Lane_R
						}
					}
				}
				any_owned_pop = {
					is_species_class = ROBOT
				}
				resource_stockpile_compare = {
					resource = energy
					value >= 100
					mult = value:num_species_pops|SPECIES|ROBOT|
				}
				resource_stockpile_compare = {
					resource = alloys
					value >= 50
					mult = value:num_species_pops|SPECIES|ROBOT|
				}
			}
		}
		owner = {
			hidden_effect = {
				create_species = {
					name = "SPEC_Gynoid0"
					class = "GYNOID_ROBOT"
					portrait = "GYNOID01"
					traits = {
						trait = "trait_history_Gynoid_maid"
						trait = "trait_mechanical"
						trait = "trait_Gynoid"
					}
				}
			}
			add_resource = {
				energy = 100
				alloys = 50
				mult = value:num_species_pops|SPECIES|ROBOT|
			}
			every_owned_pop = {
				limit = {
					is_species_class = ROBOT
				}
				change_species = last_created_species
			}
		}
	}

	option = {
		name = MGHG_anomaly.09.b
		trigger = {
			owner = {
				any_owned_pop = {
					OR = {
						is_species_class = GYNOID
						is_species_class = GYNOID_ROBOT
						is_species_class = Azur_Lane_R
					}
				}
			}
		}
		owner = {
			if = {
				limit = {
					is_regular_empire = yes
					is_individual_machine = no
				}
				add_modifier = {
					modifier = Space_machine_girl_robot
				}
			}
			else = {
				add_modifier = {
					modifier = Space_machine_girl_machine
				}
			}
		}
	}

	option = {
		name = MGHG_anomaly.09.c
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier1unityreward
				max = @tier1unitymax
				min = @tier1unitymin
			}
		}
	}

	option = {
		name = MGHG_anomaly.09.d
		root.leader = {
			add_experience = 1000
		}
	}

}